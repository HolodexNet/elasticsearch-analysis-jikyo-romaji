// elasticsearch-analysis-jikyo-romaji

buildscript {
    repositories {
        mavenCentral()
        jcenter()
    }
    dependencies {
        classpath 'org.elasticsearch.gradle:build-tools:7.5.0'
    }
}

apply plugin: 'elasticsearch.esplugin'

def ver = [
    plugin: '7.5.0',
    es:     '7.5.0',
    lucene: '8.3.0',
    romaji: '0.0.4',
]
// 7.5.0: https://github.com/elastic/elasticsearch/blob/7.5/buildSrc/version.properties
//   skipped: https://github.com/elastic/elasticsearch/issues/49787

esplugin {
    name 'analysis-jikyo-romaji'
    version ver.plugin
    description 'A token filter to romanize Japanese hiragana/katakana charcters.'
    classname 'com.github.jikyo.elasticsearch.plugin.analysis.romaji.AnalysisRomajiPlugin'
    licenseFile rootProject.file('LICENSE.txt')
    noticeFile rootProject.file('NOTICE.txt')
}

dependencies {
    implementation 'org.apache.lucene:lucene-core:' + ver.lucene
    implementation 'org.apache.lucene:lucene-analyzers-common:' + ver.lucene
    implementation 'org.elasticsearch:elasticsearch:' + ver.es

    compile 'com.github.jikyo:romaji:' + ver.romaji
}

configurations.restSpec.withDependencies { dependencies ->
    dependencies.clear()
    dependencies.add(project.dependencies.create("org.elasticsearch:rest-api-spec:${ver.es}"))
}

dependencyLicenses.enabled = false
thirdPartyAudit.enabled = false
licenseHeaders.enabled = false
